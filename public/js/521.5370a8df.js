"use strict";(self["webpackChunksssbaer_front"]=self["webpackChunksssbaer_front"]||[]).push([[521],{1521:(e,a,t)=>{t.r(a),t.d(a,{default:()=>fe});var n=t(9835);function o(e,a,t,o,s,i){const l=(0,n.up)("header-admi"),r=(0,n.up)("menu-admi"),c=(0,n.up)("router-view"),d=(0,n.up)("menu-sticky-admi"),u=(0,n.up)("q-page-container"),m=(0,n.up)("q-layout");return(0,n.wg)(),(0,n.j4)(m,{view:"lHh Lpr fff",class:"bg-grey-1"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{onChangeDrawer:a[0]||(a[0]=e=>o.drawer=!o.drawer),nombre:o.sesion.data.user.name},null,8,["nombre"]),(0,n.Wm)(r,{drawer:o.drawer,onChangeDrawer:a[1]||(a[1]=e=>o.drawer=!o.drawer)},null,8,["drawer"]),(0,n.Wm)(u,{class:"GPL__page-container"},{default:(0,n.w5)((()=>[(0,n.Wm)(c),(0,n.Wm)(d)])),_:1})])),_:1})}var s=t(499),i=t(6183),l=t(8910),r=t(6970),c=t(1957),d=t(6561),u=t.n(d);const m=(0,n._)("img",{src:u(),class:"banner"},null,-1),p=(0,n._)("span",{class:"q-ml-sm"},"Asisteme BAER",-1),w={class:"q-gutter-sm row items-center no-wrap"},f=(0,n.Uk)(" No hay notificaciones "),_=(0,n.Uk)("Salir");function g(e,a,t,o,s,i){const l=(0,n.up)("q-btn"),d=(0,n.up)("q-icon"),u=(0,n.up)("q-toolbar-title"),g=(0,n.up)("q-space"),W=(0,n.up)("q-tooltip"),b=(0,n.up)("q-badge"),v=(0,n.up)("notis-comp"),h=(0,n.up)("q-banner"),k=(0,n.up)("q-card"),q=(0,n.up)("q-list"),y=(0,n.up)("q-menu"),Z=(0,n.up)("q-toolbar"),Q=(0,n.up)("q-header");return(0,n.wg)(),(0,n.j4)(Q,{elevated:"",class:"bg-white","height-hint":"64"},{default:(0,n.w5)((()=>[m,(0,n.Wm)(Z,{class:"bg-white text-negative",style:{height:"64px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{flat:"",dense:"",round:"",onClick:a[0]||(a[0]=a=>e.$emit("changeDrawer")),"aria-label":"Menu",icon:"menu",class:"q-mx-md"}),(0,n.Wm)(d,{name:"flight_takeoff",size:"3em"}),e.$q.screen.gt.sm?((0,n.wg)(),(0,n.j4)(u,{key:0,shrink:"",class:"row items-center no-wrap"},{default:(0,n.w5)((()=>[p])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(g),(0,n._)("div",w,[(0,n.Wm)(l,{round:"",dense:"",flat:"",icon:"person"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.nombre),1)])),_:1})])),_:1}),(0,n.Wm)(l,{round:"",dense:"",flat:"",icon:"notifications",onClick:a[2]||(a[2]=e=>o.admiStore.notisSinLeer=0)},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(b,{color:"red","text-color":"white",floating:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.admiStore.notisSinLeer),1)])),_:1},512),[[c.F8,o.admiStore.notisSinLeer>0]]),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(q,{style:{"min-width":"100px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(v),(0,n.Wm)(k,{class:"text-center no-shadow no-border"},{default:(0,n.w5)((()=>[o.admiStore.globalNotis.length>0?((0,n.wg)(),(0,n.j4)(l,{key:0,label:"limpiar",style:{"max-width":"120px !important"},flat:"",dense:"",class:"text-indigo-8",onClick:a[1]||(a[1]=e=>o.admiStore.globalNotis.length=0)})):((0,n.wg)(),(0,n.j4)(h,{key:1,rounded:"",class:"bg-grey-3"},{default:(0,n.w5)((()=>[f])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(l,{round:"",dense:"",flat:"",onClick:a[3]||(a[3]=e=>o.cerrarSesion())},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{name:"logout"}),(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[_])),_:1})])),_:1})])])),_:1})])),_:1})}var W=t(1446),b=t(1247),v=t(2051),h=t(4639);const k={components:{NotisComp:v.Z},name:"HeaderAdmi",props:{nombre:{type:String,default:""}},setup(){const e=(0,i.Z)(),a=(0,W.Z)(),t=(0,l.tv)(),o=(0,b.o)(),s=async()=>{try{const n=await e.logout();n?t.push({name:"ingreso"}):a.notify({color:"negative",message:"Error al cerrar la sesion, consulte la consola para mas informacion"})}catch(n){console.log(n),a.notify({color:"negative",message:"Error al cerrar la sesion, consulte la consola para mas informacion"})}finally{t.push({name:"ingreso"})}},r=e=>{o.globalNotis.unshift(e),o.notisSinLeer++};return(0,n.bv)((()=>{try{h.apiEvents.Echo.channel("SolicitudEnviada").listen("SolicitudEnviada",(e=>{r(e),console.log(e),e.solicitud.name=e.user.name,o.solicitudes.push(e.solicitud),a.notify({message:`${e.user.name} ha enviado una nueva solicitud.`,icon:"announcement",position:"top-right",color:"positive"})})),h.apiEvents.Echo.channel("EstadoActualizado").listen("EstadoActualizado",(t=>{r(t);const n=o.solicitudes.findIndex((e=>e.id==t.solicitud.id));o.solicitudes[n]=t.solicitud,t.solicitud.idAdministrador!=e.data.user.id&&a.notify({color:"info",icon:"info",position:"top-right",message:`${t.user.name} ha ${t.tipo} una solicitud.`})}))}catch(t){console.log(t),a.notify({color:"negative",icon:"info",message:"No se ha podido conectar al servidor de websockets, consulte la consola para mas informacion"})}})),{cerrarSesion:s,admiStore:o}}};var q=t(1639),y=t(6602),Z=t(1663),Q=t(4455),S=t(2857),x=t(1973),L=t(136),A=t(6858),z=t(990),G=t(6362),P=t(3246),U=t(4458),C=t(7128),E=t(9984),j=t.n(E);const I=(0,q.Z)(k,[["render",g]]),D=I;j()(k,"components",{QHeader:y.Z,QToolbar:Z.Z,QBtn:Q.Z,QIcon:S.Z,QToolbarTitle:x.Z,QSpace:L.Z,QTooltip:A.Z,QBadge:z.Z,QMenu:G.Z,QList:P.Z,QCard:U.Z,QBanner:C.Z});const M=(0,n._)("span",{class:"q-ml-sm"},"Asisteme BAER",-1),B=(0,n.Uk)("Solicitudes"),H=(0,n.Uk)("Atendidas por mi"),T=(0,n.Uk)("Gestion de cuentas");function N(e,a,t,o,s,i){const l=(0,n.up)("q-toolbar-title"),c=(0,n.up)("q-toolbar"),d=(0,n.up)("q-separator"),u=(0,n.up)("q-icon"),m=(0,n.up)("q-item-section"),p=(0,n.up)("q-item-label"),w=(0,n.up)("q-item"),f=(0,n.up)("q-list"),_=(0,n.up)("q-scroll-area"),g=(0,n.up)("q-drawer"),W=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.j4)(g,{modelValue:o.drawerModel,"onUpdate:modelValue":a[0]||(a[0]=e=>o.drawerModel=e),bordered:"",behavior:"mobile"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"fit"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"GPL__toolbar"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{class:"row items-center text-grey-8"},{default:(0,n.w5)((()=>[M])),_:1})])),_:1}),(0,n.Wm)(f,{padding:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"q-my-md"}),(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{"active-class":"text-negative",clickable:"",class:"GPL__drawer-item",to:{name:"solicitudes admi"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"view_list",color:"negative"})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[B])),_:1})])),_:1})])),_:1})),[[W]]),(0,n.Wm)(d,{class:"q-my-md"}),(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{"active-class":"text-negative",clickable:"",class:"GPL__drawer-item",to:{name:"solicitudes realizadas admi"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"checklist",color:"negative"})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[H])),_:1})])),_:1})])),_:1})),[[W]]),(0,n.Wm)(d,{class:"q-my-md"}),(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{"active-class":"text-negative",clickable:"",class:"GPL__drawer-item",to:{name:"gestion de cuentas"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"manage_accounts",color:"negative"})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[T])),_:1})])),_:1})])),_:1})),[[W]]),(0,n.Wm)(d,{class:"q-my-md"}),(0,n.Wm)(w,{disable:"",class:"GPL__drawer-item"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.user.name),1)])),_:1}),(0,n.Wm)(m,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{color:"negative",name:"person"})])),_:1})])),_:1}),(0,n.Wm)(w,{disable:"",class:"GPL__drawer-item"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.user.email),1)])),_:1}),(0,n.Wm)(m,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{color:"negative",name:"email"})])),_:1})])),_:1}),(0,n.Wm)(w,{disable:"",class:"GPL__drawer-item"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Uk)("ID: "+(0,r.zw)(o.user.id),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}const $={name:"MenuAdmi",emits:["changeDrawer"],props:{drawer:{type:Boolean,default:!1}},setup(e,a){const t=(0,i.Z)(),o=(0,n.Fl)((()=>t.data.user?t.data.user:"")),s=(0,n.Fl)({get(){return e.drawer},set(e){a.emit("changeDrawer")}});return{user:o,drawerModel:s}}};var F=t(906),R=t(6663),V=t(926),Y=t(490),J=t(1233),K=t(3115),O=t(1136);const X=(0,q.Z)($,[["render",N]]),ee=X;j()($,"components",{QDrawer:F.Z,QScrollArea:R.Z,QToolbar:Z.Z,QToolbarTitle:x.Z,QList:P.Z,QSeparator:V.Z,QItem:Y.Z,QItemSection:J.Z,QIcon:S.Z,QItemLabel:K.Z}),j()($,"directives",{Ripple:O.Z});const ae={class:"fit q-pt-xl q-px-sm column"},te=(0,n._)("div",{class:"GPL__side-btn__label"},"Solicitudes",-1),ne=(0,n._)("div",{class:"GPL__side-btn__label"},"Atendidas por mi",-1),oe=(0,n._)("div",{class:"GPL__side-btn__label"},"Gestion de cuentas",-1),se=(0,n.Uk)("> ");function ie(e,a,t,o,s,i){const l=(0,n.up)("q-icon"),c=(0,n.up)("q-btn"),d=(0,n.up)("q-badge"),u=(0,n.up)("q-page-sticky");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.$q.screen.gt.sm?((0,n.wg)(),(0,n.j4)(u,{key:0,expand:"",position:"left"},{default:(0,n.w5)((()=>[(0,n._)("div",ae,[(0,n.Wm)(c,{round:"",flat:"",color:"grey-8",stack:"","no-caps":"",size:"26px",class:"GPL__side-btn",to:{name:"solicitudes admi"}},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{size:"22px",name:"view_list"}),te])),_:1}),(0,n.Wm)(c,{round:"",flat:"",color:"grey-8",stack:"","no-caps":"",size:"26px",class:"GPL__side-btn",to:{name:"solicitudes realizadas admi"}},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{size:"22px",name:"checklist"}),ne,(0,n.Wm)(d,{floating:"",color:"red","text-color":"white",style:{top:"8px",right:"16px"},onClick:a[0]||(a[0]=a=>e.notificacionSolicitudesAdmi=0)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e.notificacionSolicitudesAdmi),1)])),_:1})])),_:1}),(0,n.Wm)(c,{round:"",flat:"",color:"grey-8",stack:"","no-caps":"",size:"26px",class:"GPL__side-btn",to:{name:"gestion de cuentas"}},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{size:"22px",name:"manage_accounts"}),oe])),_:1})])])),_:1})):(0,n.kq)("",!0),se],64)}const le={name:"MenuStickyAdmi",setup(){return{}}};var re=t(627);const ce=(0,q.Z)(le,[["render",ie]]),de=ce;j()(le,"components",{QPageSticky:re.Z,QBtn:Q.Z,QIcon:S.Z,QBadge:z.Z});const ue={components:{MenuStickyAdmi:de,HeaderAdmi:D,MenuAdmi:ee},name:"AdministradorLayout",setup(){const e=(0,s.iH)(!1),a=(0,s.iH)(0),t=(0,s.iH)(""),n=(0,i.Z)();(0,l.tv)();function o(){e.value=!e.value}return{drawer:e,search:t,sesion:n,notificacionSolicitudesAdmi:a,toggleLeftDrawer:o}}};var me=t(249),pe=t(2133);const we=(0,q.Z)(ue,[["render",o]]),fe=we;j()(ue,"components",{QLayout:me.Z,QPageContainer:pe.Z,QItem:Y.Z,QIcon:S.Z})}}]);