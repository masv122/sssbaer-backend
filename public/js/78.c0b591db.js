"use strict";(self["webpackChunksssbaer_front"]=self["webpackChunksssbaer_front"]||[]).push([[78,794],{368:(t,e,s)=>{s.r(e),s.d(e,{default:()=>w});var a=s(9835);function o(t,e,s,o,i,n){const r=(0,a.up)("solicitudes-recientes"),d=(0,a.up)("solicitudes-admi"),c=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(c,{class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(r),(0,a.Wm)(d,{supervisor:!0})])),_:1})}const i={id:"chart"};function n(t,e,s,o,n,r){const d=(0,a.up)("apexchart");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(d,{type:"bar",height:"350",options:o.chartOptions,series:o.series},null,8,["options","series"])])}var r=s(499),d=s(1247);const c={name:"SolicitudesRecientes",mounted(){this.$nextTick((()=>{window.dispatchEvent(new Event("resize"))}))},setup(){const t=(0,d.o)(),e=(0,r.qj)([{name:"Sin atender",data:[]},{name:"En Proceso",data:[]},{name:"Completadas",data:[]}]),s=(0,r.qj)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,borderRadius:10}},xaxis:{categories:[]},legend:{position:"right",offsetY:40},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" solicitudes"}}}});(0,a.bv)((()=>{const a=o(t.solicitudes);a.forEach((a=>{e.forEach((s=>{"Sin atender"===s.name?e[0].data.push(t.solicitudesSinAtender.filter((t=>new Date(t.created_at).toLocaleString("default",{day:"2-digit",month:"short"})===a.day)).length):"En Proceso"===s.name?e[1].data.push(t.solicitudesAtendidas.filter((t=>new Date(t.created_at).toLocaleString("default",{day:"2-digit",month:"short"})===a.day)).length):e[2].data.push(t.solicitudesCompletadas.filter((t=>new Date(t.created_at).toLocaleString("default",{day:"2-digit",month:"short"})===a.day)).length)})),s.xaxis.categories.push(a.day)}))}));const o=t=>{let e=[];return t.reduce(((t,s)=>{let a=new Date(s.created_at).toLocaleString("default",{day:"2-digit",month:"short"});return t[a]||(t[a]={day:a,solicitudes:[]},e.push(t[a])),a===t[a].day&&t[a].solicitudes.push(s),t}),{}),e};return{series:e,chartOptions:s}}};var u=s(1639);const l=(0,u.Z)(c,[["render",n]]),p=l;s(6970);var h=s(8227);const f={name:"SolicitudesEstadisticas",components:{SolicitudesRecientes:p,SolicitudesAdmi:h["default"]},setup(){return{}}};var m=s(9885),g=s(9984),y=s.n(g);const b=(0,u.Z)(f,[["render",o]]),w=b;y()(f,"components",{QPage:m.Z})}}]);